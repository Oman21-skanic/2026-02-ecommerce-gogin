---
import Layout from "../layouts/Layout.astro";
import { readSession } from "../lib/auth/session";

const session = readSession(Astro.cookies);

const menuItems = [
	{
		name: "Espresso Nusantara",
		image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=1100&q=80",
	},
	{
		name: "Caramel Sea Latte",
		image: "https://images.unsplash.com/photo-1485808191679-5f86510681a2?auto=format&fit=crop&w=1100&q=80",
	},
	{
		name: "Kopi Susu Gula Aren",
		image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?auto=format&fit=crop&w=1100&q=80",
	},
];

const ratingReviews = [
	{
		name: "Nadia P.",
		role: "Freelancer",
		comment: "Kopinya konsisten, barista ramah, cocok buat kerja lama.",
		photo: "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=240&q=80",
	},
	{
		name: "Rangga A.",
		role: "Product Designer",
		comment: "Manual brew-nya detail, ambience hangat, playlistnya pas.",
		photo: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=240&q=80",
	},
	{
		name: "Sinta L.",
		role: "Community Lead",
		comment: "Ruang komunitasnya nyaman untuk meetup kecil.",
		photo: "https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=240&q=80",
	},
	{
		name: "Dio M.",
		role: "Fotografer",
		comment: "Lighting bagus, kopi susu gula aren favorit saya.",
		photo: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=240&q=80",
	},
];

const contacts = [
	{
		type: "WhatsApp",
		value: "+62 812-3456-7890",
		href: "https://wa.me/6281234567890",
		icon: "whatsapp",
		gradient: "linear-gradient(135deg, #25D366, #128C7E)",
	},
	{
		type: "Email",
		value: "hello@manscoffe.id",
		href: "mailto:hello@manscoffe.id",
		icon: "email",
		gradient: "linear-gradient(135deg, #EA4335, #C5221F)",
	},
];
---

<Layout
	title="Manscoffe — Coffeehouse & Warkop Modern"
	description="Manscoffe adalah warkop modern dengan menu kopi pilihan, suasana nyaman, dan cerita lokal yang hangat."
	session={session}
>
	<div class="page-sections">
		<section id="home" class="section-screen section-hero full-bleed">
			<div class="hero-stage">
				<div
					class="hero-bg"
					style={`background-image:url(https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?auto=format&fit=crop&w=1800&q=80)`}
				></div>
				<div class="hero-overlay"></div>
				<div class="section-shell hero-grid">
					<div class="hero-copy reveal">
						<span class="hero-pill">Coffeehouse & Warkop Modern</span>
						<h1>
							Manscoffe, rumah kopi lokal dengan
							<span>rasa premium</span>.
						</h1>
						<p>
							Kami menghadirkan kopi pilihan Nusantara, suasana hangat, dan tempat nyaman
							untuk bekerja atau bercerita.
						</p>
						<div class="hero-actions">
							<a class="btn btn-primary" href="/products">Lihat Menu</a>
							<a class="btn btn-ghost btn-ghost-light" href="#contact">Reservasi Meja</a>
						</div>
					</div>
					<div class="hero-stack reveal">
						<article class="glass-card">
							<h3>Signature Blend</h3>
							<p>Kombinasi biji Toraja, Aceh, dan Flores untuk rasa bold & clean.</p>
						</article>
						<article class="glass-card">
							<h3>Community Table</h3>
							<p>Ruang ngopi bersama untuk komunitas, meeting santai, dan event kecil.</p>
						</article>
						<article class="glass-card">
							<h3>Open Daily</h3>
							<p>08.00 - 23.00 · Live acoustic tiap Jumat & Sabtu malam.</p>
						</article>
					</div>
				</div>
			</div>
		</section>

		<section id="about" class="section-screen section-about">
			<div class="section-shell about-grid">
				<div class="about-copy reveal">
					<h2>Tentang Manscoffe</h2>
					<p>
						Manscoffe lahir dari budaya warkop yang hangat dan sederhana, lalu dipadukan
						dengan standar kopi modern. Kami memilih biji lokal terbaik, meracik resep
						secara konsisten, dan menciptakan ruang yang nyaman untuk semua.
					</p>
				</div>
				<div class="about-photo reveal">
					<img
						src="https://images.unsplash.com/photo-1447933601403-0c6688de566e?auto=format&fit=crop&w=1100&q=80"
						alt="Suasana hangat di Manscoffe"
						loading="lazy"
					/>
				</div>
			</div>
		</section>

		<section id="catalog" class="section-screen section-menu">
			<div class="section-shell">
				<div class="section-head">
					<div>
						<h2>Menu Favorit</h2>
						<p>Pilih menu favorit, lalu klik untuk melihat harga lengkap.</p>
					</div>
					<a class="btn btn-ghost" href="/products">See More</a>
				</div>
				<div class="product-spotlight">
					{menuItems.map((item, index) => (
						<a
							class={`spotlight-card reveal ${index === 1 ? "spotlight-feature" : ""}`}
							href="/products"
							aria-label={`Lihat ${item.name}`}
							style={`transition-delay:${index * 0.08}s;`}
						>
							<img src={item.image} alt={item.name} loading="lazy" />
							<div class="spotlight-content">
								<p>Favorite</p>
								<h3>{item.name}</h3>
								<span>Lihat Detail</span>
							</div>
						</a>
					))}
				</div>
			</div>
		</section>

		<section id="rating" class="section-screen section-rating full-bleed">
			<div class="section-shell rating-shell">
				<div class="rating-copy reveal">
					<h2>Rating & Energi Komunitas</h2>
					<p>Kami tumbuh bersama komunitas, fokus pada kualitas rasa dan pengalaman yang ramah.</p>
				</div>
			</div>
			<div class="rating-marquee-container" aria-hidden="true">
				<div class="rating-marquee rating-marquee-forward">
					<div class="rating-track">
						{ratingReviews.slice(0, 2).concat(ratingReviews.slice(0, 2)).map((item) => (
							<article class="rating-review">
								<img src={item.photo} alt={item.name} loading="lazy" />
								<div>
									<div class="rating-stars">
										{Array.from({ length: 5 }).map(() => (
											<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
												<path d="M12 2l2.7 5.7 6.3.9-4.6 4.5 1.1 6.3L12 16.9 6.5 19.4l1.1-6.3L3 8.6l6.3-.9L12 2z" />
											</svg>
										))}
									</div>
									<p class="rating-comment">"{item.comment}"</p>
									<div class="rating-meta">
										<span>{item.name}</span>
										<em>{item.role}</em>
									</div>
								</div>
							</article>
						))}
					</div>
				</div>
				<div class="rating-marquee rating-marquee-reverse">
					<div class="rating-track">
						{ratingReviews.slice(2, 4).concat(ratingReviews.slice(2, 4)).map((item) => (
							<article class="rating-review">
								<img src={item.photo} alt={item.name} loading="lazy" />
								<div>
									<div class="rating-stars">
										{Array.from({ length: 5 }).map(() => (
											<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
												<path d="M12 2l2.7 5.7 6.3.9-4.6 4.5 1.1 6.3L12 16.9 6.5 19.4l1.1-6.3L3 8.6l6.3-.9L12 2z" />
											</svg>
										))}
									</div>
									<p class="rating-comment">"{item.comment}"</p>
									<div class="rating-meta">
										<span>{item.name}</span>
										<em>{item.role}</em>
									</div>
								</div>
							</article>
						))}
					</div>
				</div>
			</div>
		</section>

		<section id="contact" class="section-screen section-contact">
			<div class="section-shell">
				<div class="contact-header reveal">
					<h2>Hubungi Kami</h2>
					<p>Jl. Sudirman No. 12, Bandung · Setiap hari 08.00 - 23.00</p>
				</div>
				<div class="contact-main">
					{contacts.map((item) => (
						<a class="contact-card reveal" href={item.href}>
							<div class="contact-icon" style={`background: ${item.gradient}`}>
								{item.icon === 'whatsapp' ? (
									<svg width="40" height="40" viewBox="0 0 24 24" fill="white">
										<path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
									</svg>
								) : (
									<svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.8">
										<rect x="3" y="5" width="18" height="14" rx="2" />
										<path d="M3 7l9 6 9-6" />
									</svg>
								)}
							</div>
							<div class="contact-body">
								<h3>{item.type}</h3>
								<p>{item.value}</p>
								<span class="contact-cta">Hubungi Sekarang →</span>
							</div>
						</a>
					))}
				</div>
				<div class="contact-map reveal">
					<iframe
						title="Lokasi Manscoffe"
						loading="lazy"
						referrerpolicy="no-referrer-when-downgrade"
						src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1983.4909834122804!2d107.61861521217225!3d-6.903273965147993!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e68e6305d2a121d%3A0x93cd42a3f0f0e0aa!2sJl.%20Sudirman%2C%20Bandung!5e0!3m2!1sen!2sid!4v1739592000000"
					></iframe>
				</div>
			</div>
		</section>
	</div>
</Layout>
